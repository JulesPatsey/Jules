"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var React = require('react');
var office_ui_fabric_react_1 = require('office-ui-fabric-react');
var sp_core_library_1 = require('@microsoft/sp-core-library');
var CanvasSection_1 = require('../canvasSection/CanvasSection');
var CanvasZone = (function (_super) {
    __extends(CanvasZone, _super);
    function CanvasZone(props, context) {
        _super.call(this, props, context);
    }
    CanvasZone.prototype.render = function () {
        var _this = this;
        var store = this.context.store;
        var displayMode = store.displayMode;
        var _a = this.props, zone = _a.zone, selectedPosition = _a.selectedPosition;
        var isCurZoneSelected = selectedPosition.zoneIndex === zone.index;
        var sectionComponents = [];
        var sections = zone.sections;
        sections.forEach(function (curSection, curIdx) {
            sectionComponents.push(React.createElement(CanvasSection_1.default, {zoneIndex: zone.index, section: curSection, selectedPosition: selectedPosition, key: curSection.index}));
        });
        var isReadMode = displayMode === sp_core_library_1.DisplayMode.Read;
        var layoutZoneClassName = office_ui_fabric_react_1.css('CanvasZone', 'ms-Grid-row', {
            'CanvasZone--edit': !isReadMode,
            'CanvasZone--selected': isCurZoneSelected
        });
        return (React.createElement("div", {className: layoutZoneClassName, ref: function (ref) { return _this._domElement = ref; }, "data-automation-id": 'CanvasZone'}, sectionComponents));
    };
    CanvasZone.contextTypes = {
        store: React.PropTypes.object.isRequired
    };
    return CanvasZone;
}(React.Component));
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = CanvasZone;
